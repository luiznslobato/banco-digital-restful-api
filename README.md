# API RESTful Banco Digital
O projeto trata-se de uma API RESTFul que simula um banco digital, com as seguintes funcionalidades:

-   Criar conta bancária
-   Listar contas bancárias
-   Atualizar os dados do usuário da conta bancária
-   Excluir uma conta bancária
-   Depósitar em uma conta bancária
-   Sacar de uma conta bancária
-   Transferir valores entre contas bancárias
-   Consultar saldo da conta bancária
-   Emitir extrato bancário

**Persistências dos dados:**

Os dados serão persistidos em memória, no objeto existente dentro do arquivo `bancodedados.js`.

## Executando o projeto:
   1. Faça o fork do repositório;
   2. Clone o repositório para o seu computador;
   3. Abra o repositório com o VS code;
   4. Execute o comando `npm install` no VS code para instalar as dependências do projeto;
   5. Execute o comando `npm run dev` no VS code para iniciar o servidor;
   6. Abra o Insomnia e crie uma nova coleção;
   7. Importe o arquivo `insomnia_api_restful_banco_digital.json` dentro da coleção                                                           
      para testar todas as funcionalidades do projeto, já definidas e salvas nesse arquivo.


## Endpoints

### Listar contas bancárias 
`GET` `/contas?senha_banco=Cubos123Bank`

![](https://i.imgur.com/HJVVwud.png)

-   Esse endpoint lista todas as contas bancárias existentes:

    -   Verificar se a senha do banco foi informada (passado como query params na url);
    -   Validar se a senha do banco está correta;
    -   Retorna uma listagem das contas existentes.


### Criar conta bancária
`POST` `/contas`

![](https://i.imgur.com/Of5l1Yg.png)

-   Esse endpoint cria uma conta bancária:

    -   Criar uma nova conta cujo número é único
    -   CPF deve ser um campo único.
    -   E-mail deve ser um campo único.
    -   Verificar se todos os campos foram informados (todos são obrigatórios)
    -   Definir o saldo inicial da conta como 0

### Atualizar usuário da conta bancária
`PUT` `/contas/:numeroConta/usuario`

![](https://i.imgur.com/hyTMY1I.png)

-   Esse endpoint atualiza apenas os dados do usuário de uma conta bancária:

    -   Verificar se foi passado todos os campos no body da requisição
    -   Verificar se o numero da conta passado como parametro na URL é válida
    -   Se o CPF for informado, verificar se já existe outro registro com o mesmo CPF
    -   Se o E-mail for informado, verificar se já existe outro registro com o mesmo E-mail
    -   Atualizar os dados do usuário de uma conta bancária

### Excluir Conta
`DELETE` `/contas/:numeroConta`

![](https://i.imgur.com/1vjJKEc.png)

Esse endpoint deve excluir uma conta bancária existente.

-   Você deverá, **OBRIGATORIAMENTE**:

    -   Verificar se o numero da conta passado como parametro na URL é válido
    -   Permitir excluir uma conta bancária apenas se o saldo for 0 (zero)
    -   Remover a conta do objeto de persistência de dados.

-   **Requisição**

    -   Numero da conta bancária (passado como parâmetro na rota)

-   **Resposta**

    Em caso de **sucesso**, não deveremos enviar conteúdo no corpo (body) da resposta.  
    Em caso de **falha na validação**, a resposta deverá possuir ***status code*** apropriado, e em seu corpo (body) deverá possuir um objeto com uma propriedade **mensagem** que deverá possuir como valor um texto explicando o motivo da falha.

### Depositar
`POST` `/transacoes/depositar`

![](https://i.imgur.com/dNlHN01.png)

Esse endpoint deverá somar o valor do depósito ao saldo de uma conta válida e registrar essa transação.

-   Você deverá, **OBRIGATORIAMENTE**:

    -   Verificar se o numero da conta e o valor do deposito foram informados no body
    -   Verificar se a conta bancária informada existe
    -   Não permitir depósitos com valores negativos ou zerados
    -   Somar o valor de depósito ao saldo da conta encontrada

-   **Requisição** - O corpo (body) deverá possuir um objeto com as seguintes propriedades (respeitando estes nomes):

    -   numero_conta
    -   valor

-   **Resposta**

    Em caso de **sucesso**, não deveremos enviar conteúdo no corpo (body) da resposta.  
    Em caso de **falha na validação**, a resposta deverá possuir ***status code*** apropriado, e em seu corpo (body) deverá possuir um objeto com uma propriedade **mensagem** que deverá possuir como valor um texto explicando o motivo da falha.

### Sacar
`POST` `/transacoes/sacar`

![](https://i.imgur.com/gUOHcRj.png)

Esse endpoint deverá realizar o saque de um valor em uma determinada conta bancária e registrar essa transação.

-   Você deverá, **OBRIGATORIAMENTE**:

    -   Verificar se o numero da conta, o valor do saque e a senha foram informados no body
    -   Verificar se a conta bancária informada existe
    -   Verificar se a senha informada é uma senha válida para a conta informada
    -   Verificar se há saldo disponível para saque
    -   Subtrair o valor sacado do saldo da conta encontrada

-   **Requisição** - O corpo (body) deverá possuir um objeto com as seguintes propriedades (respeitando estes nomes):

    -   numero_conta
    -   valor
    -   senha

-   **Resposta**

    Em caso de **sucesso**, não deveremos enviar conteúdo no corpo (body) da resposta.  
    Em caso de **falha na validação**, a resposta deverá possuir ***status code*** apropriado, e em seu corpo (body) deverá possuir um objeto com uma propriedade **mensagem** que deverá possuir como valor um texto explicando o motivo da falha.

### Tranferir
`POST` `/transacoes/transferir`

![](https://i.imgur.com/yC7cfWr.png)

Esse endpoint deverá permitir a transferência de recursos (dinheiro) de uma conta bancária para outra e registrar essa transação.

-   Você deverá, **OBRIGATORIAMENTE**:

    -   Verificar se o número da conta de origem, de destino, senha da conta de origem e valor da transferência foram informados no body
    -   Verificar se a conta bancária de origem informada existe
    -   Verificar se a conta bancária de destino informada existe
    -   Verificar se a senha informada é uma senha válida para a conta de origem informada
    -   Verificar se há saldo disponível na conta de origem para a transferência
    -   Subtrair o valor da transfência do saldo na conta de origem
    -   Somar o valor da transferência no saldo da conta de destino

-   **Requisição** - O corpo (body) deverá possuir um objeto com as seguintes propriedades (respeitando estes nomes):

    -   numero_conta_origem
    -   numero_conta_destino
    -   valor
    -   senha

-   **Resposta**

    Em caso de **sucesso**, não deveremos enviar conteúdo no corpo (body) da resposta.  
    Em caso de **falha na validação**, a resposta deverá possuir ***status code*** apropriado, e em seu corpo (body) deverá possuir um objeto com uma propriedade **mensagem** que deverá possuir como valor um texto explicando o motivo da falha.

### Saldo
`GET` `/contas/saldo?numero_conta=123&senha=123`

![]()https://i.imgur.com/F5JvyQR.png)

Esse endpoint deverá retornar o saldo de uma conta bancária.

-   Você deverá, **OBRIGATORIAMENTE**:

    -   Verificar se o numero da conta e a senha foram informadas (passado como query params na url)
    -   Verificar se a conta bancária informada existe
    -   Verificar se a senha informada é uma senha válida
    -   Exibir o saldo da conta bancária em questão

-   **Requisição** - query params

    -   numero_conta
    -   senha

-   **Resposta**

    -   Saldo da conta
    -   
### Extrato
`GET` `/contas/extrato?numero_conta=123&senha=123`

![](https://i.imgur.com/GXey0GJ.png)

Esse endpoint deverá listar as transações realizadas de uma conta específica.

-   Você deverá, **OBRIGATORIAMENTE**:

    -   Verificar se o numero da conta e a senha foram informadas (passado como query params na url)
    -   Verificar se a conta bancária informada existe
    -   Verificar se a senha informada é uma senha válida
    -   Retornar a lista de transferências, depósitos e saques da conta em questão.

-   **Requisição** - query params

    -   numero_conta
    -   senha

-   **Resposta**
    -   Relatório da conta

###### tags: `back-end` `nodeJS` `API REST` `javascript`
